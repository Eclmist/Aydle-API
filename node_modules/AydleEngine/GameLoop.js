function GameLoop(){}

    // function to initialize stuff
    let prepare;
    // update function
    let update;

    let hasStarted = false;
    let startTime = 0
    let deltaTime = 0;

    GameLoop.start = function(){
        if(update !== undefined){
            hasStarted = true;
            prepare();
            startTime = Date.now();
            process.nextTick(mainUpdate);
        }
            
    }

    function mainUpdate(){
        update();
        //return delta in seconds
        deltaTime = (Date.now() - startTime) / 1000;
        startTime = Date.now();
        process.nextTick(mainUpdate);
    }

    GameLoop.setPrepare = function(somePrepareFunction){
        prepare = somePrepareFunction;
    }

    GameLoop.setUpdate = function(someUpdateFunction){
        update = someUpdateFunction;
    }

    GameLoop.getDeltaTime = function(){
        return deltaTime;
    }

    GameLoop.getHasStarted = function(){
        return hasStarted;
    }


    module.exports = GameLoop;

