function PassTheBombServer()
{
   
}


PassTheBombServer.Init = function(io,socket)
{

    
    socket.on('explode', function(data)
    {
        console.log('explooooossionnnnnnnnnnnnnnn');
    });

    socket.on('passBomb', function(data)
    {
        // ask the next player to generate question
        //io.sockets.to(socket.currentRoom.GetNextTarget().playerID).emit('getBomb');
        io.sockets.connected[socket.currentRoom.GetNextTarget().playerID].emit('getBomb');
    });


    // for now lets use this to check the presence of all players
    socket.on('present',function(data)
    {
        socket.emit('getPlayerCountForGame',socket.currentRoom.games[socket.currentRoom.games.length-1]
        ,CheckGameStatus);

        // callback function
        function CheckGameStatus(playerCount)
        {

            if(socket.currentRoom.players.length === playerCount)
            {
                console.log('we can start now');
                console.log(socket.currentRoom.GetCurrentTarget().playerID);
                //io.sockets.to(socket.currentRoom.GetCurrentTarget().playerID).emit('getBomb');
                io.sockets.connected[socket.currentRoom.GetCurrentTarget().playerID].emit('getBomb');
                
            }
                
        }
    });

    

    

    



}


module.exports = PassTheBombServer;


