function GameUtils(){}

const cp = require('child_process');
const GAME_PATH = 'node_modules/games/';
let gamesFile = require('games/games.json');
let gameList = gamesFile.games;

GameUtils.GetGameList = function()
{
    return gameList;
}

GameUtils.GetGameModuleName = function(gameID)
{
    for(let i = 0; i < gameList.length; i++)
    {
        if(gameID === gameList[i].gameID)
        {
            return gameList[i].module;
        }
    }

    return undefined;
}

GameUtils.StartGameInstance = function(gameID,socket,io)
{
    let temp = 10
    if(socket !== undefined)
        temp = socket;

    let moduleName = this.GetGameModuleName(gameID);
    let data = {
        socket : socket,
        io : io,
        sample : temp
    };

    let child = cp.fork(GAME_PATH + moduleName, [JSON.stringify(data)]);    
}

module.exports = GameUtils;